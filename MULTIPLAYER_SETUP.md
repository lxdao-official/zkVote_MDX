# 🐺 狼人杀多人联机功能 - 启动指南

## 🚀 快速启动

### 1. 安装依赖

```bash
pnpm install
```

### 2. 启动开发服务器

```bash
pnpm dev
```

### 3. 打开浏览器

访问: `http://localhost:5173`

## 🎮 如何玩多人游戏

### 方式一：本地测试（单机）

1. 打开两个浏览器窗口/标签页
2. 在第一个窗口：
   - 点击 "Play ZK Werewolf"
   - 选择 "Multiplayer"
   - 点击 "Create New Room"
   - 设置参数后创建房间
3. 在第二个窗口：
   - 点击复制的邀请链接
   - 或手动选择 "Join Existing Room"
   - 输入房间ID加入

### 方式二：与朋友联机

1. **创建房间（你）**:
   ```
   1. 点击 "Multiplayer" → "Create New Room"
   2. 设置玩家数量和AI数量
   3. 点击 "Create Room"
   4. 复制邀请链接
   5. 发送给朋友
   ```

2. **加入房间（朋友）**:
   ```
   1. 点击你发送的链接
   2. 或访问游戏页面选择 "Join Existing Room"
   3. 输入房间ID
   4. 连接钱包并生成身份
   5. 点击 "Ready"
   ```

3. **开始游戏（房主）**:
   ```
   1. 等待所有人准备
   2. 点击 "Start Game"
   3. 开始游戏！
   ```

## 📱 多设备测试

### 在局域网内测试

1. **获取你的IP地址**:
   ```bash
   # macOS/Linux
   ifconfig | grep inet
   
   # Windows
   ipconfig
   ```

2. **启动开发服务器**:
   ```bash
   pnpm dev
   ```

3. **在其他设备访问**:
   ```
   http://<你的IP>:5173
   ```
   
   例如: `http://192.168.1.100:5173`

## 🎯 游戏配置推荐

### 快速体验（4人局）
- 总玩家: 4
- AI机器人: 2  
- 真人玩家: 2
- 时长: 10-15分钟

### 经典配置（6人局）
- 总玩家: 6
- AI机器人: 3
- 真人玩家: 3
- 时长: 15-20分钟

### 标准局（8人）
- 总玩家: 8
- AI机器人: 4
- 真人玩家: 4
- 时长: 20-30分钟

## 📋 功能检查表

在使用前请确认：

- [x] 已安装Node.js (v18+)
- [x] 已安装pnpm
- [x] 已运行 `pnpm install`
- [x] 已启动开发服务器 `pnpm dev`
- [x] 浏览器支持WebRTC（Chrome/Firefox/Edge推荐）
- [x] 已连接钱包（MetaMask等）
- [x] 网络连接正常

## 🔧 故障排除

### 连接失败？
- 检查网络连接
- 刷新页面重试
- 确保浏览器允许WebRTC
- 尝试使用Chrome浏览器

### 房主离开了？
- 目前房主离开会导致游戏中断
- 建议房主保持在线直到游戏结束
- 可以重新创建房间

### 看不到其他玩家？
- 检查是否使用了相同的房间ID
- 确保所有人都点击了"Ready"
- 刷新页面重试

### 游戏卡住了？
- 刷新页面
- 重新加入房间
- 房主可以重新创建房间

## 📚 更多文档

- [快速开始指南](./WEREWOLF_QUICK_START.md) - 详细的游戏玩法
- [技术文档](./WEREWOLF_MULTIPLAYER.md) - 实现细节
- [实现总结](./IMPLEMENTATION_SUMMARY.md) - 功能总结

## 🎨 界面预览

```
游戏模式选择
┌────────────────────────────────────┐
│  🎮 Single Player  │  🌐 Multiplayer │
│  本地AI对战        │   在线联机      │
└────────────────────────────────────┘

创建房间
┌────────────────────────────────────┐
│ Total Players: [====6====] 6       │
│ AI Bots:      [===3===] 3          │
│ Human Players: 3                   │
│                                    │
│ [Create Room]                      │
└────────────────────────────────────┘

游戏大厅
┌────────────────────────────────────┐
│ 📎 Invite Link:                    │
│ https://.../?room=werewolf-xxx     │
│ [Copy]                             │
│                                    │
│ Players (2/3):                     │
│ ✅ Player1 (Host) - Ready           │
│ ✅ Player2 - Ready                  │
│ ⏳ Waiting for Player3...           │
│                                    │
│ [Start Game] (Host only)           │
└────────────────────────────────────┘
```

## 💻 开发命令

```bash
# 安装依赖
pnpm install

# 启动开发服务器
pnpm dev

# 构建生产版本
pnpm build

# 预览构建结果
pnpm preview

# 代码检查
pnpm lint
```

## 🌟 特色功能

- 🔐 **零知识证明**: 保护玩家隐私
- 🤖 **智能AI**: 可配置AI机器人数量
- 💬 **实时聊天**: 游戏内聊天系统
- 🎮 **像素风格**: 独特的视觉体验
- 🌐 **P2P联机**: 无需中心服务器
- 🎲 **自动分配**: 随机角色分配

## ⚡ 性能提示

- 建议使用Chrome浏览器获得最佳性能
- 局域网连接延迟更低
- AI数量不影响网络性能（AI在本地运行）

## 🎉 开始游戏！

一切准备就绪，现在可以：

1. 启动服务器: `pnpm dev`
2. 访问: `http://localhost:5173`
3. 点击 "Play ZK Werewolf"
4. 选择 "Multiplayer"
5. 创建或加入房间
6. 享受游戏！

祝你游戏愉快！🐺✨
